{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\n\nconst USER_DATA_STORAGE_KEY = 'feedback-form-state';\n\nlet userData = JSON.parse(localStorage.getItem(USER_DATA_STORAGE_KEY)) ?? {};\n\ntry {\n  form.elements.email.value = userData.email ?? '';\n  form.elements.message.value = userData.message ?? '';\n} catch (error) {\n  console.error(error.message);\n}\n\nform.addEventListener('input', () => {\n  const formData = new FormData(form);\n\n  formData.forEach((value, key) => (userData[key] = value.trim()));\n  localStorage.setItem(USER_DATA_STORAGE_KEY, JSON.stringify(userData));\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  if (form.elements.email.value && form.elements.message.value) {\n    console.log(userData);\n    localStorage.removeItem(USER_DATA_STORAGE_KEY);\n    userData = {};\n  } else {\n    alert('Please, fill in the form!');\n  }\n  form.reset();\n});\n"],"names":["form","USER_DATA_STORAGE_KEY","userData","error","value","key","event"],"mappings":"oDAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAwB,sBAE9B,IAAIC,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAqB,CAAC,GAAK,GAE1E,GAAI,CACFD,EAAK,SAAS,MAAM,MAAQE,EAAS,OAAS,GAC9CF,EAAK,SAAS,QAAQ,MAAQE,EAAS,SAAW,EACpD,OAASC,EAAP,CACA,QAAQ,MAAMA,EAAM,OAAO,CAC7B,CAEAH,EAAK,iBAAiB,QAAS,IAAM,CAClB,IAAI,SAASA,CAAI,EAEzB,QAAQ,CAACI,EAAOC,IAASH,EAASG,GAAOD,EAAM,KAAM,CAAC,EAC/D,aAAa,QAAQH,EAAuB,KAAK,UAAUC,CAAQ,CAAC,CACtE,CAAC,EAEDF,EAAK,iBAAiB,SAAUM,GAAS,CACvCA,EAAM,eAAc,EAChBN,EAAK,SAAS,MAAM,OAASA,EAAK,SAAS,QAAQ,OACrD,QAAQ,IAAIE,CAAQ,EACpB,aAAa,WAAWD,CAAqB,EAC7CC,EAAW,CAAA,GAEX,MAAM,2BAA2B,EAEnCF,EAAK,MAAK,CACZ,CAAC"}